<!DOCTYPE html>
<html>
<head>
<title>Dungeons and Drinking</title>
<link rel="stylesheet" type="text/css" href="./style/layout.css" />

<!-- Attempt at a dice roller -->
<script>
function rollem(die) {
    let dieRoll = Math.floor((Math.random() * die) + 1);
    if (dieRoll == 20) {
        let textnode = document.createTextNode("d" + die + ": " + String(dieRoll) + " - CRITICAL HIT");
        printResult(textnode)
    } else if (dieRoll == 1) {
        let textnode = document.createTextNode("d" + die + ": " + String(dieRoll) + " - HA!");
        printResult(textnode)
    } else {
        let textnode = document.createTextNode("d" + die + ": " + String(dieRoll));
        printResult(textnode)
    }
}

function printResult(textnode) {
        let newItem = document.createElement("LI");
        newItem.appendChild(textnode);
        let list = document.getElementById("history");
        list.insertBefore(newItem, list.childNodes[0]);
}

// Clear roll history
 function clearBox() {
     let div = document.getElementById('history');
     while(div.firstChild){
     div.removeChild(div.firstChild);
}}

</script>

</head>
<body>
    <div id="wrapper">
        <div id="header">
            <h1>Dungeons and Drinking</h1>
        </div>
        
<div id="contentheader">
           <h2>Dice Roller</h2>
        </div>

        <div id="dicebag">
            <div id="left">
                <img onclick="rollem(20)" src="assets/dice/d20.svg" class="dice">
                <img onclick="rollem(12)" src="assets/dice/d12.svg" class="dice">
                <img onclick="rollem(10)" src="assets/dice/d10.svg" class="dice">
                <img onclick="rollem(8)" src="assets/dice/d8.svg" class="dice">
                <img onclick="rollem(6)" src="assets/dice/d6.svg" class="dice">
                <img onclick="rollem(4)" src="assets/dice/d4.svg" class="dice">
            </div>
           
            <div id="right">

               <p></p>
                <h3>Results
                <input type="button" onclick="clearBox('history')" value="&#x2694"></h3>
                    <div id="results"></div>
                        <ul id="history" style="font-size: 2em">
                            <li></li>
                        </ul>
            </div>
        </div>

        <div id="footer">
            <p style="text-align: right;"><a href="./index.htm">[Back to the Entrance]</a></p>
            <p style="text-align: right;">Dice icons from <a href="https://game-icons.net/tags/dice.html">Game-icons.net</a></p>
            <p style="text-align: right;">&copy;2018 8-bit Action!, All Rights Reserved</p>
        </div>
    </div>
</body>
</html>
